@startuml Registration Sequence

title Registration Sequence

actor User as user
participant UI as ui
database "Local Store" as localstore
participant "API Backend" as api
database Database as db
participant "OAuth Provider" as oauth
participant "Testnet Faucet" as faucet

user -> ui : Click register 
ui -> api : Create user endpoint
api -> oauth : Register user
oauth -> api : Return user info
api -> db : Insert user
api -> ui : Report oauth success/failure
ui -> ui : Generate testnet ETH wallet (rETH)
ui -> localstore : Store wallet
ui -> user : Instructions to back up private key? \nOr maybe we store funny money private key \nfor account resets/multiple devices?
ui -> api : Store wallet address
api -> db : Store wallet address
api -> faucet : Get ETH for wallet
api -> ui : Show success/error page

@enduml