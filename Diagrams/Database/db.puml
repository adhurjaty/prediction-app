@startuml database

title Database

entity users {
    * id
    ---
    * display_name
    * email
    * prestige_address
    * mainnet_address
    * oauth_token(s)
}

entity groups {
    * id
    ---
    * name
}

entity user_group_bridge {
    * user_id
    * group_id
}

entity proposition {
    * id
    ---
    * group_id
    * title
    * description
    * is_resolved
}

entity vote {
    * id
    ---
    * user_id
    * proposition_id
    * has_voted
    * vote
}

entity proposition_result {
    * proposition_id
    * user_id
    * result (yes/no)
}

users -- user_group_bridge
groups -- user_group_bridge
proposition -- groups
vote -- users
vote -- proposition
proposition -- proposition_result
proposition_result -- users

@enduml